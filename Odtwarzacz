package MyProgram;

import java.util.Scanner;

public class Odtwarzacz {
	Playlist p;
	Scanner sc;
	private Playlist p1;
	private Playlist p2;

	public Odtwarzacz() {
		sc = new Scanner(System.in);
		p1 = new Playlist("Rock");
		p2 = new Playlist("Pop");

		init();
	}

	private void init() {
		p1.dodajUtwor(new Utwor("Smoke on the Water", "Deep Purple", 1972));
		p1.dodajUtwor(new Utwor("Child in Time", "Deep Purple", 1970));
		p1.dodajUtwor(new Utwor("Fortunate Son", "CCR", 1969));
		p1.dodajUtwor(new Utwor("Have You Ever Seen The Rain?", "CCR", 1970));
		p1.dodajUtwor(new Utwor("Fear of the Dark", "Iron Maiden", 1992));
		p1.dodajUtwor(new Utwor("Aces High", "Iron Maiden", 1984));
		p1.dodajUtwor(new Utwor("The Trooper", "Iron Maiden", 1983));

		p2.dodajUtwor(new Utwor("Tylko z Tobą Chcę Być Sobą", "Łukasz Zagrobelny", 2014));
		p2.dodajUtwor(new Utwor("Love Me Like You Do", "Ellie Goulding", 2014));
		p2.dodajUtwor(new Utwor("Jutro", "LemON", 2014));
		p2.dodajUtwor(new Utwor("Cool Kids", "Echosmith", 2013));
		p2.dodajUtwor(new Utwor("Perdoname (feat. Adrian Delgado & DyCy)", "Deorro", 2014));
		p2.dodajUtwor(new Utwor("What are you waiting for", "Nickelback", 2014));
		p2.dodajUtwor(new Utwor("Lips Are Movin'", "Meghan Trainor", 2015));
		p2.dodajUtwor(new Utwor("Kalejdoskop szczęścia", "Andrzej Piaseczny", 2015));
	}

	Playlist wybierzPlayliste() {

		System.out.println("Której playlisty użyć? Wybierz opcję:\r\n" + "	(1) Rock\r\n" + "	(2) Pop");

		byte b = sc.nextByte();
		sc.nextLine();
		if (b > 2 || b < 1) {
			System.err.println("Nieprawidłowy numer playlisty");
		}
		Playlist c = (b == 1) ? p1 : p2;
		return c;
	}

	void wlacz() {

		boolean t = true;
		while (t) {
			System.out.println("Co chcesz zrobić? Wybierz opcję:\r\n" + "	(1) wyswietlic playliste\r\n"
					+ "	(2) dodac nowy utwor\r\n" + "	(3) przeniesc utwor\r\n" + "	(4) skopiowac utwor\r\n"
					+ "	(5) skasowac utwor\r\n" + "	(9) wyłączyć odtwarzacz");
			byte a = sc.nextByte();

			switch (a) {
			case 1:
				p = wybierzPlayliste();
				p.wyswietlPlayliste();
				break;
			case 2:
				p = wybierzPlayliste();

				System.out.println("Podaj tytul utworu:");
				String tytul = sc.nextLine();

				System.out.println("Podaj wykonawce utworu:");
				String wykonawca = sc.nextLine();

				System.out.println("Podaj rok wydania utworu:");
				int rok = sc.nextInt();
				sc.nextLine();

				p.dodajUtwor(new Utwor(tytul, wykonawca, rok));
				break;

			case 3:
				p = wybierzPlayliste();

				System.out.println("Podaj numer utworu który chcesz przenieść: ");
				int numer = sc.nextInt();
				sc.nextLine();

				try {
					if (p == p1) {
						p2.dodajUtwor(p1.pobierzUtwor(numer));
						p1.usunUtwor(numer);
					} else {
						p1.dodajUtwor(p2.pobierzUtwor(numer ));
						p2.usunUtwor(numer - 1);
					}
				} catch (IndexOutOfBoundsException e) {
					System.err.println("Nieprawidłowy numer utworu");
					e.getStackTrace();
					e.getMessage();
				}
				break;

			case 4:
				p = wybierzPlayliste();
				System.out.println("Podaj numer utworu który chcesz skopiować: ");
				numer = sc.nextInt();
				sc.nextLine();

				try {
					if (p == p1) {
						p2.dodajUtwor(p1.pobierzUtwor(numer));
					} else {
						p1.dodajUtwor(p2.pobierzUtwor(numer));
					}
				} catch (IndexOutOfBoundsException e) {
					System.err.println("Nieprawidłowy numer utworu");
					e.getStackTrace();
					e.getMessage();
				}
				break;
			case 5:
				p = wybierzPlayliste();
				
				System.out.println("Podaj numer utworu który chcesz skasować");
				numer = sc.nextInt();
				sc.nextLine();

				try {
					p.usunUtwor(numer);
				} catch (IndexOutOfBoundsException e) {
					System.err.println("Nieprawidłowy numer utworu");
					e.getStackTrace();
					e.getMessage();
				}
				break;
			case 9:
				System.out.println(" --- KONIEC ---");
				t = false;
				break;
				
			}

		}

	}

	public static void main(String[] args) {
		Odtwarzacz o = new Odtwarzacz();
		o.wlacz();

	}
}
